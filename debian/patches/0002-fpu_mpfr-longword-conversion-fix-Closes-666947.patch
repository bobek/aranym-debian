From: Antonin Kral <a.kral@bobek.cz>
Date: Mon, 9 Apr 2012 12:22:31 +0200
Subject: fpu_mpfr longword conversion fix (Closes: #666947)

Signed-off-by: Antonin Kral <a.kral@bobek.cz>
---
 src/uae_cpu/fpu/fpu_mpfr.cpp |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/uae_cpu/fpu/fpu_mpfr.cpp b/src/uae_cpu/fpu/fpu_mpfr.cpp
index 3ee3918..b90a9d8 100644
--- a/src/uae_cpu/fpu/fpu_mpfr.cpp
+++ b/src/uae_cpu/fpu/fpu_mpfr.cpp
@@ -869,7 +869,7 @@ fpuop_fmove_memory (uae_u32 opcode, uae_u32 extra)
       switch (size)
 	{
 	case 0:
-	  m68k_dreg (regs, reg) = extract_to_integer (*value, -0x80000000, 0x7fffffff);
+	  m68k_dreg (regs, reg) = extract_to_integer (*value, -0x7fffffff-1, 0x7fffffff);
 	  break;
 	case 1:
 	  m68k_dreg (regs, reg) = extract_to_single (*value);
@@ -933,7 +933,7 @@ fpuop_fmove_memory (uae_u32 opcode, uae_u32 extra)
   switch (size)
     {
     case 0:
-      put_long (addr, extract_to_integer (*value, -0x80000000, 0x7fffffff));
+      put_long (addr, extract_to_integer (*value, -0x7fffffff-1, 0x7fffffff));
       break;
     case 1:
       put_long (addr, extract_to_single (*value));
